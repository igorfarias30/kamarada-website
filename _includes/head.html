<head>
    <meta charset="{{ site.encoding }}">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    {% if site.enforce_https %}
        <script type="text/javascript">
            if (("{{ site.enforce_https }}" == window.location.host) && (window.location.protocol != "https:")) {
                window.location = window.location.toString().replace(/^http:/, "https:");
            }
        </script>
    {% endif %}

    <title>
        {% if page.title %}
            {{ page.title }}
        {% elsif site.data.t[page.lang].site.title %}
            {{ site.data.t[page.lang].site.title }}
        {% else %}
            {{ site.title }}
        {% endif %}
    </title>
    <meta name="author" content="{% if site.data.t[page.lang].site.author.name %}{{ site.data.t[page.lang].site.author.name }}{% else %}{{ site.author.name }}{% endif %}">
    <meta name="description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% elsif site.data.t[page.lang].site.description %}{{ site.data.t[page.lang].site.description }}{% else %}{{ site.description }}{% endif %}">
    <link rel="canonical" href="{{ page.url | replace:'index.html','' | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}">
    <link rel="alternate" type="application/rss+xml" title="{% if site.data.t[page.lang].site.title %}{{ site.data.t[page.lang].site.title }}{% else %}{{ site.title }}{% endif %}" href="{{ "/feed.xml" | prepend: site.baseurl | prepend: site.url }}" />

    {% assign translations = site.posts | where: 'nickname', page.nickname %}
    {% for translation in translations %}
        {% if translation.lang != page.lang %}
            <link rel="alternate" hreflang="{{ translation.lang }}" href="{{ translation.url | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}" />
        {% endif %}
    {% endfor %}

    <!-- OpenSearch -->
    <link rel="search" type="application/opensearchdescription+xml" title="Search {{ site.title }}" href="{{ '/opensearch.xml' | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}" />

    <!-- Open Graph -->
    {% if page.is_post %}
        <meta property="article:published_time" content="{{ page.date }}"/>
    {% endif %}
    {% if site.facebook.app_id %}
        <meta property="fb:app_id" content="{{ site.facebook.app_id }}" />
    {% endif %}
    {% if site.facebook.page_id %}
        <meta property="fb:page_id" content="{{ site.facebook.page_id }}" />
    {% endif %}
    {% if site.author.name or site.data.t[page.lang].site.author.name %}
        <meta property="og:author" content="{% if site.data.t[page.lang].site.author.name %}{{ site.data.t[page.lang].site.author.name }}{% else %}{{ site.author.name }}{% endif %}" />
    {% endif %}
    <meta property="og:description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% elsif site.data.t[page.lang].site.description %}{{ site.data.t[page.lang].site.description }}{% else %}{{ site.description }}{% endif %}" />
    {% if site.author.email or site.data.t[page.lang].site.author.email %}
        <meta property="og:email" content="{% if site.data.t[page.lang].site.author.email %}{{ site.data.t[page.lang].site.author.email }}{% else %}{{ site.author.email }}{% endif %}" />
    {% endif %}
    {% if page.image %}
        <meta property="og:image" content="{{ page.image | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}" />
    {% endif %}
    <meta property="og:site_name" content="{% if site.data.t[page.lang].site.title %}{{ site.data.t[page.lang].site.title }}{% else %}{{ site.title }}{% endif %}" />
    <meta property="og:title" content="{% if page.title %}{{ page.title }}{% elsif site.data.t[page.lang].site.title %}{{ site.data.t[page.lang].site.title }}{% else %}{{ site.title }}{% endif %}" />
    <meta property="og:type" content="{% if page.is_post %}{{ "article" }}{% else %}{{ "website" }}{% endif %}" />
    <meta property="og:url" content="{{ page.url | replace:'index.html', '' | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}" />

    <!-- Twitter Cards -->
    <meta name="twitter:card" content="summary" />
    {% if site.twitter_username or site.data.t[page.lang].site.twitter_username %}
        <meta name="twitter:site" content="{% if site.data.t[page.lang].site.twitter_username %}{{ site.data.t[page.lang].site.twitter_username | prepend: "@" }}{% else %}{{ site.twitter_username | prepend: "@" }}{% endif %}" />
    {% endif %}

    <!-- Favicons (made with RealFaviconGenerator.net) -->
    <link rel="apple-touch-icon" sizes="57x57" href="{{ "/assets/favicons/apple-touch-icon-57x57.png?v=1" | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}">
    <link rel="apple-touch-icon" sizes="60x60" href="{{ "/assets/favicons/apple-touch-icon-60x60.png?v=1" | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}">
    <link rel="apple-touch-icon" sizes="72x72" href="{{ "/assets/favicons/apple-touch-icon-72x72.png?v=1" | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}">
    <link rel="apple-touch-icon" sizes="76x76" href="{{ "/assets/favicons/apple-touch-icon-76x76.png?v=1" | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}">
    <link rel="apple-touch-icon" sizes="114x114" href="{{ "/assets/favicons/apple-touch-icon-114x114.png?v=1" | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}">
    <link rel="apple-touch-icon" sizes="120x120" href="{{ "/assets/favicons/apple-touch-icon-120x120.png?v=1" | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}">
    <link rel="apple-touch-icon" sizes="144x144" href="{{ "/assets/favicons/apple-touch-icon-144x144.png?v=1" | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}">
    <link rel="apple-touch-icon" sizes="152x152" href="{{ "/assets/favicons/apple-touch-icon-152x152.png?v=1" | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ "/assets/favicons/apple-touch-icon-180x180.png?v=1" | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}">
    <link rel="icon" type="image/png" href="{{ "/assets/favicons/favicon-32x32.png?v=1" | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}" sizes="32x32">
    <link rel="icon" type="image/png" href="{{ "/assets/favicons/favicon-194x194.png?v=1" | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}" sizes="194x194">
    <link rel="icon" type="image/png" href="{{ "/assets/favicons/favicon-96x96.png?v=1" | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}" sizes="96x96">
    <link rel="icon" type="image/png" href="{{ "/assets/favicons/android-chrome-192x192.png?v=1" | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}" sizes="192x192">
    <link rel="icon" type="image/png" href="{{ "/assets/favicons/favicon-16x16.png?v=1" | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}" sizes="16x16">
    <link rel="manifest" href="{{ "/assets/favicons/manifest.json?v=1" | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}">
    <link rel="shortcut icon" href="{{ "/assets/favicons/favicon.ico?v=1" | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}">
    <meta name="msapplication-TileColor" content="#009688">
    <meta name="msapplication-TileImage" content="{{ "/assets/favicons/mstile-144x144.png?v=1" | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}">
    <meta name="msapplication-config" content="{{ "/assets/favicons/browserconfig.xml?v=1" | prepend: site.baseurl | replace: '//', '/' | prepend: site.url }}">
    <meta name="theme-color" content="#009688">

    <!-- CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-material-design/0.3.0/css/roboto.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-material-design/0.3.0/css/material.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-material-design/0.3.0/css/ripples.min.css">
    <link rel="stylesheet" href="{{ "/assets/css/syntax.css" | prepend: site.baseurl }}">
    <link rel="stylesheet" href="{{ "/assets/css/main.css" | prepend: site.baseurl }}">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- JS -->
    <script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-material-design/0.3.0/js/ripples.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-material-design/0.3.0/js/material.min.js"></script>
    <script src="{{ "/assets/js/main.js" | prepend: site.baseurl }}"></script>

    {% if site.google.analytics_property_id %}
        <!-- Google Analytics -->
        <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', '{{ site.google.analytics_property_id }}', 'auto');
        ga('send', 'pageview', {
            'page': '{{ page.url | replace:"index.html","" | prepend: site.baseurl | replace: "//", "/" | prepend: site.url }}',
            'title': '{% if page.title %}{{ page.title }}{% elsif site.data.t[page.lang].site.title %}{{ site.data.t[page.lang].site.title }}{% else %}{{ site.title }}{% endif %}'
        });

        </script>
        <!-- End Google Analytics -->
    {% endif %}

    {% if site.google.adsense.publisher_id %}
        <!-- Google AdSense -->
        <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    {% endif %}

    {% if site.addthis_profile_id %}
        <!-- AddThis -->
        <script async src="//s7.addthis.com/js/300/addthis_widget.js#pubid={{ site.addthis_profile_id }}"></script>
        <script type="text/javascript">
            var addthis_config = {
                data_track_clickback: true,
                data_track_addressbar: true,
                ui_language: '{{ site.lang }}'
            };
            var addthis_share = {
                url: '{{ page.url | prepend: site.baseurl | replace: "//", "/"" | prepend: site.url }}',
                title: document.title,
                description: '{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% elsif site.data.t[page.lang].site.description %}{{ site.data.t[page.lang].site.description }}{% else %}{{ site.description }}{% endif %}'
            };
        </script>
        <!-- End AddThis -->
    {% endif %}
</head>
